import {useRef,useState,useCallback,useEffect}from'react';import {jsxs,Fragment,jsx}from'react/jsx-runtime';// @ts-nocheck
var Z=["password","token","apiKey","secret","authorization","creditCard","cardNumber","cvv","ssn"];function H(s,t={}){let o=t.keys||Z;if(!s||typeof s!="object")return s;let h=Array.isArray(s)?[...s]:{...s},S=p=>{if(!p||typeof p!="object")return p;for(let y in p)if(Object.prototype.hasOwnProperty.call(p,y)){let v=y.toLowerCase();o.some(m=>v.includes(m.toLowerCase()))?p[y]="***REDACTED***":p[y]!==null&&typeof p[y]=="object"&&(p[y]=S(p[y]));}return p};return S(h)}function F(s){return s.replace(/[^a-z0-9_\-]/gi,"_").replace(/_+/g,"_").replace(/^_|_$/g,"")}function q(){if(typeof navigator>"u")return "unknown";let s=navigator.userAgent;return s.includes("Edg")?"edge":s.includes("Chrome")?"chrome":s.includes("Firefox")?"firefox":s.includes("Safari")?"safari":"unknown"}function Q(s,t,o,h){if(typeof window>"u")return {sessionId:s,environment:t,userId:o,timestamp:new Date().toISOString(),userAgent:"",browser:"unknown",platform:"",language:"",screenResolution:"0x0",viewport:"0x0",url:"",referrer:"",timezone:"",logCount:h,errorCount:0,networkErrorCount:0};let S=typeof window.screen<"u"?`${window.screen.width}x${window.screen.height}`:"0x0",p=typeof window.innerWidth<"u"&&typeof window.innerHeight<"u"?`${window.innerWidth}x${window.innerHeight}`:"0x0";return {sessionId:s,environment:t,userId:o,timestamp:new Date().toISOString(),userAgent:navigator.userAgent,browser:q(),platform:navigator.platform,language:navigator.language,screenResolution:S,viewport:p,url:window.location.href,referrer:document.referrer,timezone:Intl.DateTimeFormat().resolvedOptions().timeZone,logCount:h,errorCount:0,networkErrorCount:0}}function V(){return `session_${Date.now()}_${Math.random().toString(36).substring(2,11)}`}function j(s="json",t={},o={}){let{fileNameTemplate:h="{env}_{userId}_{sessionId}_{timestamp}",environment:S="development",userId:p="anonymous",sessionId:y="unknown"}=o,v=new Date().toISOString().replace(/[:.]/g,"-").split(".")[0],g=new Date().toISOString().split("T")[0],m=new Date().toLocaleTimeString("en-US",{hour12:false,hour:"2-digit",minute:"2-digit",second:"2-digit"}).replace(/:/g,"-"),L=o.browser||q(),R=o.platform||(typeof navigator<"u"?navigator.platform:"unknown"),T=(o.url||(typeof window<"u"?window.location.pathname.replace(/\//g,"_"):"unknown")).split("?")[0]||"unknown",z=String(o.errorCount??t.errorCount??0),P=String(o.logCount??t.logCount??0),M=h.replace("{env}",F(S)).replace("{userId}",F(p??"anonymous")).replace("{sessionId}",F(y??"unknown")).replace("{timestamp}",v).replace("{date}",g).replace("{time}",m).replace(/\{errorCount\}/g,z).replace(/\{logCount\}/g,P).replace("{browser}",F(L)).replace("{platform}",F(R)).replace("{url}",F(T));for(let[_,U]of Object.entries(t))M=M.replace(`{${_}}`,String(U));return `${M}.${s}`}function le(s,t="json"){let o=s.url.split("?")[0]||"unknown";return j(t,{},{environment:s.environment,userId:s.userId,sessionId:s.sessionId,browser:s.browser,platform:s.platform,url:o,errorCount:s.errorCount,logCount:s.logCount})}var te={maxLogs:1e3,enablePersistence:true,persistenceKey:"debug_logs",captureConsole:true,captureFetch:true,captureXHR:true,enableDirectoryPicker:false,sanitizeKeys:["password","token","apiKey","secret","authorization","creditCard"],excludeUrls:[],fileNameTemplate:"{env}_{userId}_{sessionId}_{timestamp}",environment:"development",userId:null,sessionId:null,includeMetadata:true,uploadEndpoint:null,uploadOnError:false};function $(s={}){let t={...te,...s},o=useRef([]),h=useRef(false),S=useRef(t.sessionId||V()),p=useRef(Q(S.current,t.environment,t.userId,0)),[y,v]=useState(0),g=useCallback(r=>{let i=new Set;return JSON.stringify(r,(c,n)=>{if(typeof n=="object"&&n!==null){if(i.has(n))return "[Circular]";i.add(n);}return n})},[]),m=useCallback(r=>{if(o.current.push(r),o.current.length>t.maxLogs&&o.current.shift(),v(o.current.length),t.enablePersistence&&typeof window<"u")try{localStorage.setItem(t.persistenceKey,g(o.current));}catch{console.warn("[useLogRecorder] Failed to persist logs");}},[t.maxLogs,t.enablePersistence,t.persistenceKey,g]),L=useCallback(()=>{if(t.enablePersistence&&typeof window<"u")try{let r=localStorage.getItem(t.persistenceKey);r&&(o.current=JSON.parse(r),v(o.current.length));}catch{console.warn("[useLogRecorder] Failed to load persisted logs");}},[t.enablePersistence,t.persistenceKey]),R=useCallback(r=>t.excludeUrls.some(i=>r.includes(i)),[t.excludeUrls]);useEffect(()=>{if(typeof window>"u"||h.current)return;h.current=true,L();let r=[];if(t.captureConsole){let i={log:console.log,error:console.error,warn:console.warn,info:console.info,debug:console.debug},c=(n,d)=>{try{let e=d.map(l=>{if(typeof l=="object")try{return g(l)}catch{return String(l)}return String(l)}).join(" ");m({type:"CONSOLE",level:n.toUpperCase(),time:new Date().toISOString(),data:e.substring(0,5e3)});}catch{}};Object.keys(i).forEach(n=>{let d=i[n];console[n]=(...e)=>{c(n,e),d.apply(console,e);};}),r.push(()=>{Object.keys(i).forEach(n=>{console[n]=i[n];});});}if(t.captureFetch&&typeof window<"u"){let i=window.fetch;window.fetch=async(...c)=>{let[n,d]=c,e=typeof n=="string"?n:n.url||"";if(R(e))return i(...c);let l=Date.now(),E=Math.random().toString(36).substring(7);try{let x=null;if(d?.body)try{x=typeof d.body=="string"?JSON.parse(d.body):d.body,x=H(x,{keys:t.sanitizeKeys});}catch{x=String(d.body).substring(0,1e3);}m({type:"FETCH_REQ",id:E,url:e,method:d?.method||"GET",headers:H(d?.headers,{keys:t.sanitizeKeys}),body:x,time:new Date().toISOString()});let D=await i(...c),O=D.clone(),w=null;try{D.headers.get("content-type")?.includes("application/json")?(w=await O.json(),w=H(w,{keys:t.sanitizeKeys})):w=(await O.text()).substring(0,1e3);}catch{w="[Unable to parse response]";}return m({type:"FETCH_RES",id:E,url:e,status:D.status,statusText:D.statusText,duration:`${Date.now()-l}ms`,body:w,time:new Date().toISOString()}),D}catch(x){throw m({type:"FETCH_ERR",id:E,url:e,error:x instanceof Error?x.toString():String(x),duration:`${Date.now()-l}ms`,time:new Date().toISOString()}),x}},r.push(()=>{window.fetch=i;});}if(t.captureXHR&&typeof window<"u"){let i=window.XMLHttpRequest,c=function(){let n=new i,d=Math.random().toString(36).substring(7),e,l,E=Date.now(),x=n.open,D=n.send,O=n.setRequestHeader,w={};return n.setRequestHeader=function(f,k){return w[f]=k,O.call(n,f,k)},n.open=function(f,k,I=true){return e=f,l=k,R(k),x.call(n,f,k,I)},n.send=function(f){if(l&&!R(l)){let k=null;if(f)try{k=typeof f=="string"?JSON.parse(f):f,k=H(k,{keys:t.sanitizeKeys});}catch{k=String(f).substring(0,1e3);}m({type:"XHR_REQ",id:d,url:l||"unknown",method:e||"GET",headers:H(w,{keys:t.sanitizeKeys}),body:k,time:new Date().toISOString()}),n.addEventListener("load",function(){let I=null;try{n.getResponseHeader("content-type")?.includes("application/json")?(I=JSON.parse(n.responseText),I=H(I,{keys:t.sanitizeKeys})):I=n.responseText.substring(0,1e3);}catch{I="[Unable to parse response]";}m({type:"XHR_RES",id:d,url:l||"unknown",status:n.status,statusText:n.statusText,duration:`${Date.now()-E}ms`,body:I,time:new Date().toISOString()});}),n.addEventListener("error",function(){m({type:"XHR_ERR",id:d,url:l||"unknown",error:"Network request failed",duration:`${Date.now()-E}ms`,time:new Date().toISOString()});});}return D.call(n,f)},Object.setPrototypeOf(n,i.prototype),n};Object.setPrototypeOf(c.prototype,i.prototype),window.XMLHttpRequest=c,r.push(()=>{window.XMLHttpRequest=i;});}return ()=>{r.forEach(i=>i()),h.current=false;}},[t,m,L,R,g]);let b=useCallback(()=>{let r=o.current.filter(c=>c.type==="CONSOLE"&&c.level==="ERROR").length,i=o.current.filter(c=>c.type==="FETCH_ERR"||c.type==="XHR_ERR").length;p.current={...p.current,logCount:o.current.length,errorCount:r,networkErrorCount:i};},[]);function T(){return "showDirectoryPicker"in window}async function z(r,i){let d=await(await(await window.showDirectoryPicker()).getFileHandle(i,{create:true})).createWritable();await d.write(r),await d.close();}let P=useCallback((r="json",i,c)=>(typeof window>"u"||(async()=>{try{b();let d=i||j(r,{},t),e,l;if(r==="json"){let w=t.includeMetadata?{metadata:p.current,logs:o.current}:o.current;e=g(w),l="application/json";}else e=(t.includeMetadata?`${"=".repeat(80)}
METADATA
${"=".repeat(80)}
${g(p.current)}
${"=".repeat(80)}

`:"")+o.current.map(f=>`[${f.time}] ${f.type}
${g(f)}
${"=".repeat(80)}`).join(`
`),l="text/plain";if((c?.showPicker||t.enableDirectoryPicker)&&T())try{return await z(e,d),d}catch(w){if(w instanceof DOMException){if(w.name==="AbortError")return null;w.name==="NotAllowedError"&&console.error("[useLogRecorder] Directory permission denied");}}let x=new Blob([e],{type:l}),D=URL.createObjectURL(x),O=document.createElement("a");return O.href=D,O.download=d,document.body.appendChild(O),O.click(),document.body.removeChild(O),URL.revokeObjectURL(D),d}catch{return console.error("[useLogRecorder] Failed to download logs"),null}})().catch(d=>{console.error("[useLogRecorder] Download error:",d);}),null),[t,g,b]),M=useCallback(async r=>{let i=r||t.uploadEndpoint;if(!i)return {success:false,error:"No endpoint configured"};try{b();let c={metadata:p.current,logs:o.current,fileName:j("json",{},t)},n=await fetch(i,{method:"POST",headers:{"Content-Type":"application/json"},body:g(c)});if(!n.ok)throw new Error(`Upload failed: ${n.status}`);return {success:!0,data:await n.json()}}catch(c){let n=c instanceof Error?c.message:"Unknown error";return console.error("[useLogRecorder] Failed to upload logs:",c),{success:false,error:n}}},[t.uploadEndpoint,g,b]),_=useCallback(()=>{if(o.current=[],v(0),t.enablePersistence&&typeof window<"u")try{localStorage.removeItem(t.persistenceKey);}catch{console.warn("[useLogRecorder] Failed to clear persisted logs");}},[t.enablePersistence,t.persistenceKey]),U=useCallback(()=>[...o.current],[]),X=useCallback(()=>y,[y]),N=useCallback(()=>(b(),{...p.current}),[b]);return {downloadLogs:P,uploadLogs:M,clearLogs:_,getLogs:U,getLogCount:X,getMetadata:N,sessionId:S.current}}function ne({user:s,environment:t="production",uploadEndpoint:o,fileNameTemplate:h="{env}_{date}_{time}_{userId}_{errorCount}errors",maxLogs:S=2e3,showInProduction:p=false}){let[y,v]=useState(false),[g,m]=useState(false),[L,R]=useState(null),[b,T]=useState(null),{downloadLogs:z,uploadLogs:P,clearLogs:M,getLogCount:_,getMetadata:U,sessionId:X}=$({fileNameTemplate:h,environment:t,userId:s?.id||s?.email||"guest",includeMetadata:true,uploadEndpoint:o,maxLogs:S,captureConsole:true,captureFetch:true,captureXHR:true,sanitizeKeys:["password","token","apiKey","secret","authorization","creditCard"],excludeUrls:["/api/analytics","google-analytics.com","facebook.com","vercel.com"]}),N=_(),r=U();useEffect(()=>{let e=l=>{l.ctrlKey&&l.shiftKey&&l.key==="D"&&(l.preventDefault(),v(E=>!E));};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[]),useEffect(()=>{if(r.errorCount>=5&&o){let e=async()=>{try{await P();}catch{console.warn("[DebugPanel] Failed to auto-upload logs");}};return window.addEventListener("error",e),()=>window.removeEventListener("error",e)}},[r.errorCount,o,P]);let i=useCallback(async()=>{m(true),R(null);try{let e=await P();e.success?(R({type:"success",message:`Uploaded successfully! ${e.data?JSON.stringify(e.data):""}`}),e.data&&typeof e.data=="object"&&"url"in e.data&&await navigator.clipboard.writeText(String(e.data.url))):R({type:"error",message:`Upload failed: ${e.error}`});}catch(e){R({type:"error",message:`Error: ${e instanceof Error?e.message:"Unknown error"}`});}finally{m(false);}},[P]),c=useCallback(e=>{let l=z(e);l&&R({type:"success",message:`Downloaded: ${l}`});},[z]),n=useCallback(async()=>{T(null);try{if(!("showDirectoryPicker"in window)){T({type:"error",message:"T\xEDnh n\u0103ng ch\u1EC9 h\u1ED7 tr\u1EE3 Chrome/Edge"});return}await z("json",void 0,{showPicker:!0})&&T({type:"success",message:"\u0110\xE3 l\u01B0u v\xE0o th\u01B0 m\u1EE5c"});}catch{T({type:"error",message:"Kh\xF4ng th\u1EC3 l\u01B0u. Vui l\xF2ng th\u1EED l\u1EA1i ho\u1EB7c ch\u1ECDn v\u1ECB tr\xED kh\xE1c."});}},[z]);return useEffect(()=>{if(b){let e=setTimeout(()=>{T(null);},3e3);return ()=>clearTimeout(e)}},[b]),p||t==="development"||s?.role==="admin"?jsxs(Fragment,{children:[jsxs("button",{onClick:()=>v(e=>!e),style:{position:"fixed",bottom:"20px",right:"20px",zIndex:9998,padding:"12px 20px",background:"#1f2937",color:"#fff",border:"none",borderRadius:"8px",cursor:"pointer",fontSize:"14px",fontWeight:600,display:"flex",alignItems:"center",gap:"8px",boxShadow:"0 4px 12px rgba(0,0,0,0.3)"},title:"Press Ctrl+Shift+D to toggle",children:[jsx("span",{children:"\u{1F41B} Debug"}),jsx("span",{style:{background:r.errorCount>0?"#ef4444":"#374151",padding:"2px 8px",borderRadius:"12px",fontSize:"12px"},children:N}),r.errorCount>0&&jsxs("span",{style:{background:"#ef4444",padding:"2px 8px",borderRadius:"12px",fontSize:"12px"},children:[r.errorCount," err"]})]}),y&&jsxs("div",{style:{position:"fixed",bottom:"100px",right:"20px",zIndex:9999,background:"#fff",borderRadius:"12px",boxShadow:"0 10px 40px rgba(0,0,0,0.2)",width:"384px",maxHeight:"600px",overflow:"auto",border:"1px solid #e5e7eb"},children:[jsxs("div",{style:{background:"linear-gradient(to right, #1f2937, #111827)",color:"#fff",padding:"16px",borderRadius:"12px 12px 0 0",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[jsxs("div",{children:[jsx("h3",{style:{margin:0,fontSize:"18px",fontWeight:700},children:"Debug Logger"}),jsxs("p",{style:{margin:"4px 0 0",fontSize:"12px",opacity:.8},children:["Session: ",X.substring(0,20),"..."]})]}),jsx("button",{onClick:()=>v(false),style:{background:"transparent",border:"none",color:"#fff",fontSize:"20px",cursor:"pointer",padding:"4px 8px"},children:"\u2715"})]}),jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"8px",padding:"12px",background:"#f9fafb",borderBottom:"1px solid #e5e7eb"},children:[jsxs("div",{style:{textAlign:"center"},children:[jsx("div",{style:{fontSize:"24px",fontWeight:700,color:"#111827"},children:N}),jsx("div",{style:{fontSize:"12px",color:"#6b7280"},children:"Total Logs"})]}),jsxs("div",{style:{textAlign:"center"},children:[jsx("div",{style:{fontSize:"24px",fontWeight:700,color:"#dc2626"},children:r.errorCount}),jsx("div",{style:{fontSize:"12px",color:"#6b7280"},children:"Errors"})]}),jsxs("div",{style:{textAlign:"center"},children:[jsx("div",{style:{fontSize:"24px",fontWeight:700,color:"#ea580c"},children:r.networkErrorCount}),jsx("div",{style:{fontSize:"12px",color:"#6b7280"},children:"Net Errors"})]})]}),jsxs("details",{style:{padding:"12px",borderBottom:"1px solid #e5e7eb",background:"#f9fafb"},children:[jsxs("summary",{style:{cursor:"pointer",fontWeight:600,color:"#374151",fontSize:"14px",listStyle:"none",display:"flex",alignItems:"center",gap:"8px"},children:[jsx("span",{children:"\u{1F4CA}"})," Session Info"]}),jsxs("div",{style:{marginTop:"8px",fontSize:"12px",color:"#4b5563",lineHeight:1.6},children:[jsxs("div",{children:[jsx("strong",{children:"User:"})," ",r.userId||"Anonymous"]}),jsxs("div",{children:[jsx("strong",{children:"Browser:"})," ",r.browser," (",r.platform,")"]}),jsxs("div",{children:[jsx("strong",{children:"Resolution:"})," ",r.screenResolution]}),jsxs("div",{children:[jsx("strong",{children:"URL:"})," ",r.url]}),jsxs("div",{children:[jsx("strong",{children:"Timezone:"})," ",r.timezone]})]})]}),jsxs("div",{style:{padding:"16px",display:"flex",flexDirection:"column",gap:"12px"},children:[jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:[jsx("label",{style:{fontSize:"14px",fontWeight:600,color:"#374151"},children:"Download Logs"}),jsxs("div",{style:{display:"flex",gap:"8px"},children:[jsx("button",{onClick:()=>c("json"),style:{flex:1,padding:"10px 16px",background:"#2563eb",color:"#fff",border:"none",borderRadius:"8px",cursor:"pointer",fontSize:"14px",fontWeight:600,transition:"background 0.2s"},onMouseOver:e=>e.currentTarget.style.background="#1d4ed8",onMouseOut:e=>e.currentTarget.style.background="#2563eb",children:"\u{1F4E5} JSON"}),jsx("button",{onClick:()=>c("txt"),style:{flex:1,padding:"10px 16px",background:"#2563eb",color:"#fff",border:"none",borderRadius:"8px",cursor:"pointer",fontSize:"14px",fontWeight:600,transition:"background 0.2s"},onMouseOver:e=>e.currentTarget.style.background="#1d4ed8",onMouseOut:e=>e.currentTarget.style.background="#2563eb",children:"\u{1F4C4} TXT"})]}),jsx("button",{onClick:n,disabled:!("showDirectoryPicker"in window),style:{width:"100%",padding:"10px 16px",background:"showDirectoryPicker"in window?"#7c3aed":"#9ca3af",color:"#fff",border:"none",borderRadius:"8px",cursor:"showDirectoryPicker"in window?"pointer":"not-allowed",fontSize:"14px",fontWeight:600,transition:"background 0.2s",opacity:"showDirectoryPicker"in window?1:.6},onMouseOver:e=>{"showDirectoryPicker"in window&&(e.currentTarget.style.background="#6d28d9");},onMouseOut:e=>{"showDirectoryPicker"in window&&(e.currentTarget.style.background="#7c3aed");},title:"showDirectoryPicker"in window?"Ch\u1ECDn th\u01B0 m\u1EE5c \u0111\u1EC3 l\u01B0u file":"T\xEDnh n\u0103ng ch\u1EC9 h\u1ED7 tr\u1EE3 Chrome/Edge",children:"\u{1F4C1} L\u01B0u v\xE0o th\u01B0 m\u1EE5c..."})]}),o&&jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:[jsx("label",{style:{fontSize:"14px",fontWeight:600,color:"#374151"},children:"Upload to Server"}),jsx("button",{onClick:i,disabled:g,style:{width:"100%",padding:"10px 16px",background:g?"#9ca3af":"#16a34a",color:"#fff",border:"none",borderRadius:"8px",cursor:g?"not-allowed":"pointer",fontSize:"14px",fontWeight:600,transition:"background 0.2s"},onMouseOver:e=>{g||(e.currentTarget.style.background="#15803d");},onMouseOut:e=>{g||(e.currentTarget.style.background="#16a34a");},children:g?"\u23F3 Uploading...":"\u2601\uFE0F Upload Logs"})]}),L&&jsx("div",{style:{padding:"12px",borderRadius:"8px",fontSize:"14px",background:L.type==="success"?"#dcfce7":"#fee2e2",color:L.type==="success"?"#166534":"#991b1b",border:`1px solid ${L.type==="success"?"#86efac":"#fca5a5"}`},children:L.message}),b&&jsx("div",{style:{padding:"12px",borderRadius:"8px",fontSize:"14px",background:b.type==="success"?"#dcfce7":"#fee2e2",color:b.type==="success"?"#166534":"#991b1b",border:`1px solid ${b.type==="success"?"#86efac":"#fca5a5"}`},children:b.message}),jsx("button",{onClick:()=>{confirm("Clear all logs? This cannot be undone.")&&(M(),R(null));},style:{width:"100%",padding:"10px 16px",background:"#dc2626",color:"#fff",border:"none",borderRadius:"8px",cursor:"pointer",fontSize:"14px",fontWeight:600,transition:"background 0.2s"},onMouseOver:e=>e.currentTarget.style.background="#b91c1c",onMouseOut:e=>e.currentTarget.style.background="#dc2626",children:"\u{1F5D1}\uFE0F Clear All Logs"})]}),jsxs("div",{style:{padding:"12px",background:"#f9fafb",borderTop:"1px solid #e5e7eb",borderRadius:"0 0 12px 12px",fontSize:"12px",color:"#6b7280"},children:[jsxs("div",{style:{marginBottom:"4px"},children:[jsx("strong",{children:"\u{1F4A1} Tip:"})," Press"," ",jsx("kbd",{style:{padding:"2px 6px",background:"#e5e7eb",borderRadius:"4px",fontFamily:"monospace"},children:"Ctrl+Shift+D"})," ","to toggle"]}),jsxs("div",{style:{marginBottom:"4px"},children:[jsx("strong",{children:"\u{1F4BE} Auto-save:"})," Logs persist across page refreshes"]}),jsxs("div",{children:[jsx("strong",{children:"\u{1F512} Security:"})," Sensitive data is auto-redacted"]})]})]})]}):null}function se({fileNameTemplate:s="debug_{timestamp}"}){let[t,o]=useState(false),{downloadLogs:h,clearLogs:S,getLogCount:p}=$({fileNameTemplate:s}),y=p();return jsxs(Fragment,{children:[jsxs("button",{onClick:()=>o(v=>!v),style:{position:"fixed",bottom:"20px",right:"20px",zIndex:9999,padding:"12px 20px",background:"#1f2937",color:"#fff",border:"none",borderRadius:"8px",cursor:"pointer",fontSize:"14px",fontWeight:600,display:"flex",alignItems:"center",gap:"8px"},children:[jsx("span",{children:"\u{1F41B}"}),jsx("span",{children:y})]}),t&&jsxs("div",{style:{position:"fixed",bottom:"80px",right:"20px",zIndex:9999,background:"#fff",padding:"20px",borderRadius:"8px",boxShadow:"0 4px 12px rgba(0,0,0,0.2)",width:"300px",display:"flex",flexDirection:"column",gap:"12px"},children:[jsx("button",{onClick:()=>h("json"),style:{width:"100%",padding:"10px",background:"#2563eb",color:"#fff",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"14px"},children:"Download JSON"}),jsx("button",{onClick:()=>{confirm("Clear all logs?")&&S();},style:{width:"100%",padding:"10px",background:"#dc2626",color:"#fff",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"14px"},children:"Clear Logs"}),jsx("button",{onClick:()=>o(false),style:{width:"100%",padding:"10px",background:"#6b7280",color:"#fff",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"14px"},children:"Close"})]})]})}export{ne as DebugPanel,se as DebugPanelMinimal,Q as collectMetadata,le as generateExportFilename,j as generateFilename,V as generateSessionId,q as getBrowserInfo,H as sanitizeData,F as sanitizeFilename,$ as useLogRecorder};